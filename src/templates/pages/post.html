{% extends "layouts/base.html" %}

{% block content %}
<article class="post">
  <div class="container">
    <header class="post-header">
      {% if post.category %}
        <div class="post-category-container">
          <span class="post-category category-{{ post.category | lower }}">{{ post.category }}</span>
        </div>
      {% endif %}
      
      <h1 class="post-title">{{ post.title }}</h1>
      
      <div class="post-meta">
        <time datetime="{{ post.date }}">{{ post.date }}</time>
        {% if post.author %}
          <span class="post-author">{{ post.author }}</span>
        {% endif %}
        {% if post.readingTime %}
          <span class="post-reading-time">{{ post.readingTime }} мин. чтения</span>
        {% endif %}
      </div>
      
      {% if post.tags && post.tags.length > 0 %}
        <div class="post-tags">
          {% for tag in post.tags %}
            <a href="/tags/{{ tag.slug }}/" class="post-tag">{{ tag.name }}</a>
          {% endfor %}
        </div>
      {% endif %}
    </header>
    
    {% if post.headings && post.headings.length > 0 %}
      <aside class="table-of-contents">
        <h2>Содержание</h2>
        <ul>
          {% for heading in post.headings %}
            <li class="toc-level-{{ heading.level }}">
              <a href="#{{ heading.id }}">{{ heading.text }}</a>
            </li>
          {% endfor %}
        </ul>
      </aside>
    {% endif %}
    
    <div class="post-content">
      {{ post.content }}
    </div>
    
    <footer class="post-footer">
      <div class="post-sharing">
        <span>Поделиться:</span>
        <a href="https://twitter.com/intent/tweet?url={{ site.hostname }}{{ post.url }}&text={{ post.title }}" target="_blank" rel="noopener noreferrer" class="share-twitter">Twitter</a>
        <a href="https://t.me/share/url?url={{ site.hostname }}{{ post.url }}&text={{ post.title }}" target="_blank" rel="noopener noreferrer" class="share-telegram">Telegram</a>
      </div>
      
      {% if post.tags && post.tags.length > 0 %}
        <div class="post-tags-footer">
          <span>Теги:</span>
          {% for tag in post.tags %}
            <a href="/tags/{{ tag.slug }}/" class="post-tag">{{ tag.name }}</a>
          {% endfor %}
        </div>
      {% endif %}
      
      {% if post.relatedPosts && post.relatedPosts.length > 0 %}
        <div class="related-posts">
          <h3>Похожие статьи</h3>
          <ul>
            {% for relatedPost in post.relatedPosts %}
              <li>
                <a href="{{ relatedPost.url }}">{{ relatedPost.title }}</a>
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
    </footer>
  </div>
</article>
{% endblock %} 